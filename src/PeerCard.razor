@using Sufficit.Asterisk
@inherits EventsPanelCardAbstract<EventsPanelPeerCard>
<MudPaper Class="@($"px-1 {GetCardClass()}")" Style="max-width:16rem;">


    <MudStack Row AlignItems="AlignItems.Center" Spacing="2">

        <MudStack Row AlignItems="AlignItems.Center" Spacing="2">
            <MudTooltip Text="@PeerKey">
                <MudAvatar Size="Size.Small" Class="mt-1 peer-avatar">
                    <MudImage Src="@GetAvatarSrc()"/>
                </MudAvatar>
            </MudTooltip>

            <MudTooltip Text="@Card.Label">
                <MudText Class="peer-label">
                    @GetLabel()
                </MudText>
            </MudTooltip>
        </MudStack>

        <MudSpacer />

        <MudStack Row AlignItems="AlignItems.Center" Spacing="1">
            @if (Card.IsMonitored && Content?.Address is not null)
            {
                <MudTooltip Text="@Content.Address">
                    <MudIcon Icon="@Icons.Material.Filled.Place"
                             Size="Size.Small"
                             Color="Color.Warning"
                             Class="peer-icon" />
                </MudTooltip>
            }

            <MudTooltip Text="@Convert.ToString(Content?.Status)">
                <MudIcon Icon="@Icons.Material.Filled.Visibility"
                         Size="Size.Small"
                         Color="Color.Warning"
                         Class="peer-icon" />
            </MudTooltip>
        </MudStack>

    </MudStack>

    @if (Card.Channels.Any())
    {
        <MudDivider Class="my-1" />
        <CardChannels Channels=@Card.Channels Kind="@EventsPanelCardKind.PEER"></CardChannels>
    }
</MudPaper>
