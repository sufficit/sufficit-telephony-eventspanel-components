@inherits EventsPanelView
@using Sufficit.Telephony.EventsPanel
<CascadingValue Value="Cards">
    @if (Pagging.PageTotalItems > Pagging.PageSize)
    {
        <PaggingContext Monitor="@Pagging">
            <EventsPanelCardsOptions Pagging="@Pagging" Total="Pagging.PageTotalItems"></EventsPanelCardsOptions>
        </PaggingContext>
    }
    <div class="events-panel">
        <div class="row mt-4">
            <div class="col-12 col-lg-9">
                <div class="events-monitor card-extensions">                        
                    @foreach (var Item in GetPeers())
                    {
                        <PeerCard Card=@Item HandleAvatar="@GetAvatar(Item)"></PeerCard>
                    }
                </div>
            </div>
            <div class="col-12 col-lg-3">
                @if(Panel.Options.ShowTrunks){
                    <div class="events-monitor card-trunks">
                        @foreach (var Item in GetTrunks())
                        {
                            <TrunkCard Card=@Item HandleAvatar="@GetAvatar(Item)"></TrunkCard>
                        }
                    </div>
                    <hr />
                }
                <div class="events-monitor card-queues">
                    @foreach (var Item in GetQueues())
                    {
                        <QueueCard Card=@Item HandleAvatar="@GetAvatar(Item)"></QueueCard>
                    }
                </div>
            </div>
        </div>
    </div>
</CascadingValue>